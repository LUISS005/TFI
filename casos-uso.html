<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Casos de Uso - H&M</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background: #303030;
            min-height: 100vh;
        }
        .content-wrapper {
            background: white;
            border-radius: 15px;
            padding: 40px;
            margin: 30px 0;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        .navbar {
            background: rgba(255, 255, 255, 0.95) !important;
        }
        h1, h2 {
            color: #667eea;
            margin-bottom: 20px;
        }
        .use-case-card {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid #667eea;
        }
        .scenario-step {
            background: white;
            padding: 10px 15px;
            margin: 5px 0;
            border-radius: 5px;
            border-left: 3px solid #667eea;
        }
        .extension-step {
            background: #fff3cd;
            padding: 10px 15px;
            margin: 5px 0;
            border-radius: 5px;
            border-left: 3px solid #ffc107;
        }
        .diagram-section {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 10px;
            margin: 30px 0;
            text-align: center;
        }
        .state-badge {
            display: inline-block;
            padding: 8px 16px;
            border-radius: 20px;
            margin: 5px;
            font-weight: bold;
        }
        .state-pending { background: #ffc107; color: #000; }
        .state-confirmed { background: #28a745; color: white; }
        .state-completed { background: #17a2b8; color: white; }
        .state-cancelled { background: #dc3545; color: white; }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light sticky-top">
        <div class="container">
            <a class="navbar-brand fw-bold" href="index.html">üè¢ H&M Inmobiliaria</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="index.html">Inicio</a></li>
                    <li class="nav-item"><a class="nav-link" href="empresa.html">Empresa</a></li>
                    <li class="nav-item"><a class="nav-link" href="vision.html">Visi√≥n</a></li>
                    <li class="nav-item"><a class="nav-link active" href="casos-uso.html">Casos de Uso</a></li>
                    <li class="nav-item"><a class="nav-link" href="viabilidad.html">Viabilidad</a></li>
                    <li class="nav-item"><a class="nav-link" href="prototipos.html">Prototipos</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container">
        <div class="content-wrapper">
            <h1 class="text-center mb-4">üìä Casos de Uso y Diagramas</h1>

            <!-- Caso de Uso 1 -->
            <div class="use-case-card">
                <h2>üé´ Caso de Uso 1: Solicitar Visita a Propiedad</h2>
                
                <div class="row mt-4">
                    <div class="col-md-6">
                        <p><strong>Actor Principal:</strong> Cliente</p>
                        <p><strong>Objetivo:</strong> Agendar una visita a una propiedad de inter√©s</p>
                    </div>
                    <div class="col-md-6">
                        <h5>Precondiciones</h5>
                        <ul>
                            <li>Sistema con propiedades actualizadas</li>
                            <li>Calendario de agentes actualizado</li>
                            <li>Acceso libre para clientes</li>
                        </ul>
                    </div>
                </div>

                <h5 class="mt-4">üìã Escenario Principal de √âxito</h5>
                <div class="scenario-step">1. Cliente selecciona propiedad del cat√°logo</div>
                <div class="scenario-step">2. Sistema muestra ficha y habilita "Solicitar Visita"</div>
                <div class="scenario-step">3. Sistema verifica disponibilidad del horario</div>
                <div class="scenario-step">4. Sistema solicita datos del cliente (nombre, tel√©fono, email)</div>
                <div class="scenario-step">5. Cliente ingresa datos y confirma turno</div>
                <div class="scenario-step">6. Sistema valida los datos del cliente</div>
                <div class="scenario-step">7. Sistema registra el turno</div>
                <div class="scenario-step">8. Sistema notifica al Asesor de Ventas</div>
                <div class="scenario-step">9. Sistema env√≠a email de confirmaci√≥n al cliente</div>
                <div class="scenario-step">10. Sistema muestra mensaje "Turno agendado"</div>

                <h5 class="mt-4">‚ö†Ô∏è Extensiones (Casos Alternativos)</h5>
                <div class="extension-step">
                    <strong>3a. Horario ocupado:</strong> Sistema detecta conflicto y muestra mensaje de error. Actualiza calendario.
                </div>
                <div class="extension-step">
                    <strong>6a. Datos inv√°lidos:</strong> Sistema detecta email con formato inv√°lido e indica el error.
                </div>
                <div class="extension-step">
                    <strong>8a. Error en email:</strong> Cliente ingres√≥ email incorrecto.
                </div>

                <h5 class="mt-4">‚úÖ Postcondiciones</h5>
                <ul>
                    <li>Turno generado en el sistema</li>
                    <li>Agente inmobiliario notificado</li>
                    <li>Calendario del agente actualizado</li>
                    <li>Disponibilidad de turnos actualizada</li>
                </ul>
            </div>

            <!-- Caso de Uso 2 -->
            <div class="use-case-card">
                <h2>üìù Caso de Uso 2: Publicar Nueva Propiedad</h2>
                
                <div class="row mt-4">
                    <div class="col-md-6">
                        <p><strong>Actor Principal:</strong> Empleado de Marketing</p>
                        <p><strong>Objetivo:</strong> Publicar una nueva propiedad en el cat√°logo</p>
                    </div>
                    <div class="col-md-6">
                        <h5>Precondiciones</h5>
                        <ul>
                            <li>Empleado autenticado en el sistema</li>
                            <li>Cat√°logo de propiedades actualizado</li>
                            <li>Integraci√≥n con base de datos activa</li>
                        </ul>
                    </div>
                </div>

                <h5 class="mt-4">üìã Escenario Principal de √âxito</h5>
                <div class="scenario-step">1. Empleado ingresa a la p√°gina web</div>
                <div class="scenario-step">2. Empleado sube im√°genes e ingresa caracter√≠sticas (precio, medidas, habitaciones, ba√±os, estado, antig√ºedad, ubicaci√≥n)</div>
                <div class="scenario-step">3. Empleado confirma haciendo clic en "Publicar"</div>
                <div class="scenario-step">4. Sistema valida campos obligatorios y formato de im√°genes</div>
                <div class="scenario-step">5. Sistema guarda informaci√≥n en la base de datos</div>
                <div class="scenario-step">6. Sistema muestra "Propiedad publicada exitosamente" y redirige al listado</div>

                <h5 class="mt-4">‚ö†Ô∏è Extensiones</h5>
                <div class="extension-step">
                    <strong>2a. Formato de imagen inv√°lido:</strong> Sistema muestra "Archivo no v√°lido. Solo JPG/PNG menores a 5MB"
                </div>
                <div class="extension-step">
                    <strong>2b. Datos obligatorios faltantes:</strong> Sistema muestra "Complete los campos obligatorios"
                </div>
                <div class="extension-step">
                    <strong>5a. Error de conexi√≥n:</strong> Sistema muestra "Error de conexi√≥n" al intentar guardar
                </div>

                <h5 class="mt-4">‚úÖ Postcondiciones</h5>
                <ul>
                    <li>Propiedad publicada en el cat√°logo</li>
                    <li>Administrador notificado (si aplica)</li>
                    <li>Disponibilidad actualizada en tiempo real</li>
                </ul>
            </div>

            <!-- Estados de Turnos -->
            <div class="diagram-section">
                <h2>üîÑ Diagrama de Transici√≥n de Estados - Gesti√≥n de Turnos</h2>
                <p class="text-muted">Flujo de estados de un turno desde su creaci√≥n hasta su finalizaci√≥n</p>
                
                <div class="diagram-container">
                    <img src="img/gestiondeturnos-diagramatransciciondeestados.jpg" alt="Diagrama de Venn" class="img-fluid diagram-img">
                </div>

                <div class="mt-4 text-start">
                    <h5>Transiciones posibles:</h5>
                    <ul>
                        <li><strong>Pendiente ‚Üí Confirmado:</strong> Cliente confirma el turno</li>
                        <li><strong>Confirmado ‚Üí Completado:</strong> Visita realizada exitosamente</li>
                        <li><strong>Pendiente ‚Üí Cancelado:</strong> Cliente cancela antes de confirmar</li>
                        <li><strong>Confirmado ‚Üí Cancelado:</strong> Cancelaci√≥n despu√©s de confirmaci√≥n</li>
                    </ul>
                </div>
            </div>

            <!-- Contratos -->
            <div class="use-case-card">
                <h2>üìã Contratos de Operaciones</h2>
                
                <h5 class="mt-3">Contrato CO01CU01 - confirmarReservaTurno</h5>
                <div class="table-responsive">
                    <table class="table table-bordered">
                        <tr>
                            <th width="30%">Operaci√≥n</th>
                            <td>confirmarReservaTurno(idCliente, idPropiedad, fechaHora)</td>
                        </tr>
                        <tr>
                            <th>Precondici√≥n</th>
                            <td>
                                ‚Ä¢ Existe cliente identificado por idCliente<br>
                                ‚Ä¢ Existe propiedad identificada por idPropiedad<br>
                                ‚Ä¢ FechaHora disponible en agenda
                            </td>
                        </tr>
                        <tr>
                            <th>Postcondici√≥n</th>
                            <td>
                                ‚Ä¢ Nueva instancia de Turno creada<br>
                                ‚Ä¢ Turno asociado con Cliente<br>
                                ‚Ä¢ Turno asociado con Propiedad<br>
                                ‚Ä¢ FechaHora asignada al Turno<br>
                                ‚Ä¢ Turno asociado con Asesor disponible<br>
                                ‚Ä¢ Estado establecido como "confirmado"
                            </td>
                        </tr>
                    </table>
                </div>

                <h5 class="mt-4">Contrato CO02CU02 - IngresarDatosPropiedad</h5>
                <div class="table-responsive">
                    <table class="table table-bordered">
                        <tr>
                            <th width="30%">Operaci√≥n</th>
                            <td>IngresarDatosPropiedad(Calle, precio, metros, cantHab)</td>
                        </tr>
                        <tr>
                            <th>Precondici√≥n</th>
                            <td>
                                ‚Ä¢ Empleado de Marketing autenticado<br>
                                ‚Ä¢ Objeto Propiedad instanciado
                            </td>
                        </tr>
                        <tr>
                            <th>Postcondici√≥n</th>
                            <td>
                                ‚Ä¢ Atributos de Propiedad modificados<br>
                                ‚Ä¢ Estado establecido como "Disponible"<br>
                                ‚Ä¢ Propiedad asociada con Empleado de Marketing
                            </td>
                        </tr>
                    </table>
                </div>
            </div>

            <div class="text-center mt-5">
                <a href="vision.html" class="btn btn-secondary me-2">‚Üê Anterior</a>
                <a href="viabilidad.html" class="btn btn-primary">Siguiente: Viabilidad ‚Üí</a>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>